# 班级积分管理系统

一个功能完整的班级积分管理系统，用于记录和管理学生的积分情况，支持多种积分类别和统计分析。

## 功能特性

### 🎯 核心功能
- **学生管理** - 添加、查看学生信息
- **积分录入** - 灵活的积分记录系统，支持加分和扣分
- **积分查询** - 查看所有积分记录，支持搜索和筛选
- **统计分析** - 班级统计、类别统计、学生排行榜
- **类别管理** - 自定义积分类别和默认积分值
- **数据导出** - 支持Excel格式数据导出

### 💡 特色功能
- 响应式设计，支持多设备访问
- 直观的用户界面，操作简单
- 实时积分统计和排行榜
- **日期区间统计** - 支持按任意时间段查看小组平均分和个人总分
- 积分预览功能
- 快速操作面板

## 技术架构

- **后端框架**: Flask (Python)
- **数据库**: SQLite
- **前端技术**: Bootstrap 5 + JavaScript
- **数据处理**: Pandas
- **导出功能**: openpyxl

## 用户安装说明  
在Releases中下载7z压缩包解压后运行，运行后打开localhost:5000

## 开发者安装说明

### 环境要求
- Python 3.8+
- pip (Python包管理器)

### 安装步骤

1. **下载系统文件**
   ```bash
   # 确保所有文件都在同一个目录中
   cd class_points_system
   ```

2. **安装依赖包**
   ```bash
   pip install -r requirements.txt
   ```

3. **运行系统**
   ```bash
   python run.py
   ```

4. **访问系统**
   打开浏览器访问: http://127.0.0.1:5000
## 编译说明
Follow BUILD_README.md
## 使用指南

### 1. 初始设置
系统首次启动时会自动：
- 创建数据库表

### 2. 添加学生
1. 点击"学生管理" → "添加学生"
2. 填写学生信息（学号、姓名、班级）
3. 提交保存

### 3. 录入积分
1. 点击"录入积分"
2. 选择学生和类别
3. 填写积分值和事由
4. 提交记录

### 4. 查看统计
1. 点击"统计分析"
2. 查看班级统计、类别统计和学生排行榜
3. 支持数据导出

### 5. 日期区间统计
1. 点击"排名统计"
2. 在顶部日期筛选表单中选择开始和结束日期
3. 点击"应用筛选"查看该时间段内的数据
4. 可在不同标签页间切换查看：
   - **学生排名**：显示总积分、本周积分、区间积分
   - **小组排名**：显示平均分、本周平均、区间平均分
   - **本周排行**：专门显示本周数据
   - **区间排行**：专门显示选定日期区间内的排名

## 目录结构

```
class_points_system/
├── app.py              # 主应用文件
├── models.py           # 数据模型
├── run.py              # 启动脚本
├── requirements.txt    # 依赖包列表
├── README.md          # 说明文档
├── templates/         # HTML模板
│   ├── base.html      # 基础模板
│   ├── index.html     # 首页
│   ├── students.html  # 学生列表
│   ├── add_student.html # 添加学生
│   ├── add_points.html  # 录入积分
│   ├── points_records.html # 积分记录
│   ├── student_detail.html # 学生详情
│   ├── statistics.html # 统计分析
│   ├── rankings.html  # 排名统计（含日期区间功能）
│   ├── categories.html # 类别管理
│   └── add_category.html # 添加类别
└── instance/          # 数据库文件（自动创建）
    └── class_points.db
```

## 积分建议

### 默认积分参考值
- **作业**: +5分 / -3分
- **考试**: +10分 / -5分
- **纪律**: +3分 / -5分
- **表现**: +2分 / -2分
- **其他**: +1分 / -1分

### 积分等级标准
- **优秀**: 50分以上
- **良好**: 20-49分
- **合格**: 0-19分
- **待改进**: 0分以下

## 系统维护

### 数据备份
数据库文件位于 `instance/class_points.db`，建议定期备份：
```bash
cp instance/class_points.db backup/class_points_$(date +%Y%m%d).db
```

### 数据清理
系统会保留所有历史记录，如需清理请直接操作数据库文件。

## 常见问题

**Q: 如何修改端口号？**
A: 修改 `run.py` 文件中的 `port=5000` 为其他端口号。

**Q: 如何重置系统？**
A: 删除 `instance/class_points.db` 文件，重新运行系统。

**Q: 支持多用户吗？**
A: 当前版本为单用户版本，所有数据共享。

**Q: 如何备份数据？**
A: 可以通过"统计分析"页面导出Excel数据，或直接备份数据库文件。

## 开发信息

- **版本**: v1.0
- **开发时间**: 2025年
- **适用场景**: 班级管理、学生行为积分、素质评价等

## 更新日志

### v1.1 (2024-10-11)
- **新增日期区间统计功能**
- 支持按任意时间段查看小组平均分和个人总分
- 整合排名统计和日期区间统计页面
- 增强统计分析功能

### v1.0 (2024-10-7)
- 完成基础功能开发
- 实现学生管理、积分录入、统计分析功能
- 支持数据导出
- 响应式界面设计

---

**联系反馈**: 如有问题或建议，请提出issues。